{"version":3,"sources":["../../server/web-server.ts"],"names":["WebNextRequest","WebNextResponse","RenderOpts","RenderResult","NextParsedUrlQuery","Params","PayloadOptions","LoadComponentsReturnType","BaseServer","Options","renderToHTML","NextWebServer","webServerConfig","constructor","options","Object","assign","renderOpts","extendRenderOpts","generateRewrites","beforeFiles","afterFiles","fallback","handleCompression","getRoutesManifest","headers","rewrites","redirects","getPagePath","getPublicDir","getBuildId","globalThis","__server_context","buildId","loadEnvConfig","getHasStaticDir","hasMiddleware","generateImageRoutes","generateStaticRoutes","generateFsStaticRoutes","generatePublicRoutes","getMiddleware","generateCatchAllMiddlewareRoute","undefined","getFontManifest","getMiddlewareManifest","getPagesManifest","page","getFilesystemPaths","Set","getPrerenderManifest","version","routes","dynamicRoutes","notFoundRoutes","preview","previewModeId","previewModeSigningKey","previewModeEncryptionKey","getServerComponentManifest","renderHTML","req","_res","pathname","query","url","cookies","supportsDynamicHTML","disableOptimizedLoading","runtime","sendRenderResult","_req","res","writer","transformStream","writable","getWriter","result","isDynamic","pipe","write","chunk","end","close","destroy","err","abort","cork","uncork","body","toUnchunkedString","send","runApi","findPageComponents","params","loadComponent","components","updateRenderOpts"],"mappings":"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"}